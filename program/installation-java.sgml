<sect1 id="installation-java">
 <title>Java</title>

 <indexterm>
  <primary>Java</primary>
  <secondary>installation af</secondary>
 </indexterm>

 <para>
  Javaprogrammer kan overs칝ttes til almindelig maskinkode under Linux med
  v칝rkt칮jet <command>gcc-java</command>.
 </para>

<!--
<para>
Nogle vigtige pakker som er del af Java sproget er:

<itemizedlist mark="bullet" spacing="compact">

<listitem><para>
<filename>java.applet</filename>: pakke til at h친ndtere udvikling af programmer der kan
k칮re i en browser.  
</para></listitem>

<listitem><para>
<filename>java.awt</filename>: pakke til at h친ndtere GUI udvikling, med klasser til 2D
grafik, knapper, menuer, drag-and-drop etc.
</para></listitem>

<listitem><para>
<filename>java.beans</filename>: pakke til at h친ndtere komponentbaseret udvikling.
</para></listitem>

<listitem><para>
<filename>java.io</filename>: Input og output kontrol p친 filer, vektorer og matricer og
serialization.  
</para></listitem>

<listitem><para> <filename>java.lang</filename> : pakke med klasser
som er basale for sproget Java og dets k칮rselsdom칝ne.  java.math:
pakke til matematik inkluderende klasser til vilk친rlig n칮jagtighed af
reelle og flydende tal beregninger.  </para></listitem>

<listitem><para> <filename>java.net</filename> : pakke til h친ndtering
af netv칝rksbaseret kommunikation, herunder Web baseret fil h친ndtering.
</para></listitem>

<listitem><para>
 <filename>java.rmi</filename>: pakke til at k칮re af metoder fra klasser p친 en
 anden maskine.  
</para></listitem>

<listitem><para>
<filename>java.sql</filename>: jdbc interface, som er interface til databaser.
</para></listitem>

<listitem><para> <filename>javax.swing</filename> : Swing er GUI
udviklingspakken, er avanceret og afl칮ser AWT (java.awt).
</para></listitem>

<listitem><para>
<filename>org.omg.CORBA</filename>: underst칮ttelse af CORBA standarden.
</para></listitem>
</itemizedlist>

  Man kan ogs친 blande Java og andre programmeringssprog. Det g칮res enten
  gennem noget der kaldes JNI eller simpelthen ved at skrive JVM-klasser i
  andre sprog. Man kan f친 genereret C- og C++-gr칝nsesnit til Java med et
  JNI-v칝rkt칮j.
 </para>

<para>
Sproget blev i sin tid udviklet af Sun Microsystems og stillet gratis
til r친dighed. Java stilles til r친dighed i form af et s친kaldt JRE
(Java Runtime Environment) og en JDK (Java Development Kit). JRE d칝kker over
det der skal til for at k칮re Java-programmer, mens JDK er det der skal
til for at udvikle Java-programmer.  I starten var det ikke alle
styresystemer der var underst칮ttet, hvorfor firmaer kan licensere
selve Java-udviklingskoden (det g칮r Microsoft blandt andet). Linux var
ikke underst칮ttet i lang tid, men i dag er der givet en gratis licens
til et medlem af Blackdown-holdet (Steve Byrne), som sammen
med andre flytter nye versioner af Java til Linux. Organisationen der
styrer Java til Linux er Blackdown 
<ulink url="http://www.blackdown.org">http://www.blackdown.org</ulink>.
</para>

<para>Der var specielt i starten, hvor der ikke eksisterede officielle
versioner af Java til Linux, startet et antal projekter med det m친l at
udvikle Java-v칝rkt칮jer under GPL. Med Red Hat f칮lger dels guavac, der
er en selvst칝ndigt udviklet Java-overs칝tter, dels kaffe, der er en
virtuel Java-maskine (JVM), alts친 et program der kan afvikle
Java-bytecodes (kaffe er p친 vej til at blive et komplet udviklingsmilj칮,
pakken indeholder bl.a. en Java-overs칝tter og de mest n칮dvendige biblioteker.)
Der er ogs친 udviklet et antal JIT (Just In Time) JVM'er til Java som f친s under
frie licenser. Den bedste og mest kende hedder ShuJIT.  En JIT er en
JVM der kan overs칝tter "bytecodes" koden til maskinkode, n친r der er behov
for at k칮re koden, og ikke f칮r. En JIT afvikler normalt koden hurtigere
end en almindelig JVM fortolker. Desuden har Sun udviklet en meget hurtig JVM
kaldet HotSpot som er ved at blive flyttet til Linux.
</para>

<para>I det f칮lgende vil der blive givet en opskrift p친 hvordan man
installerer Java-udviklingsmilj칮et (JDK).  Der findes to versioner af
Java, Java 1.1 og Java 2 (som egentlig er Java 1.2 p.t. Java 1.2.2RC4
til Linux).  Den store forskel p친 disse to versioner er at den nyeste
Java 2 har mange nye v칝rkt칮jer og er sprogm칝ssigt lidt forskelligt fra
den 칝ldre Java 1.1. Java 1.1 kan v칝re interessant bl.a. fordi den
k칮rer en hel del hurtigere end den nye Java 2 (p친 Linux). I det
f칮lgende er det Java 2 der vil blive omtalt da det forventes at de
problemer der er med Java 2 vil blive l칮st. Endvidere er Java 1.3
tilg칝ngelig til Windows og Solaris, og i gang med at blive flyttet til
Linux (se 
<ulink url="http://www.blackdown.org">http://www.blackdown.org</ulink>
for status).
</para>


<sect2 id="java-installation">
<title>Installation af Java 2</title>
-->
<para>
Det f칮rste skridt er at hente
<filename>jdk-1.2.2-RC4-linux-i386-glibc-2.1.2.sh</filename>. Denne
pakke kan findes de s칝dvanlige steder s친som <ulink
url="http://sunsite.dk">http://sunsite.dk</ulink>, p친
<ulink url="http://www.blackdown.org">http://www.blackdown.org</ulink>
og 
<ulink url="http://java.sun.com">http://java.sun.com</ulink>. JDK'en som du skal
hente skal passe til din Linux-distribution. Der er forskellige
pakker til netop den version af glibc som du benytter i din
distribution. Du kan se version af glibc du benytter ved at se hvilken
symbolsk henvisning <filename>libc.so.6</filename> peger p친 (enten
<filename>libc-2.1.x</filename> eller
<filename>libc-2.0.x</filename>). Pakken fylder godt 20 Mb.
</para>

<para>
 Du kan installere kommandofortolkerinstallationspakken (ender p친 .sh), men
 der findes ogs친 almindelige tar og <command>gzip</command>'ede filer. Installation af
 kommandofortolkerinstallationen foreg친r ved (se nedenfor vedr칮rende hvor det
 kan betale sig at installere det):
</para>

<screen>
<prompt>[root@daisy /root]# </prompt><userinput>cd /usr/local</userinput>
<prompt>[root@daisy /usr/local]# </prompt><userinput>chmod +x DIN_STI/jdk-1.2.2-RC4-linux-i386-glibc-2.1.2.sh</userinput>
<prompt>[root@daisy /usr/local]# </prompt><userinput>DIN_STI/jdk-1.2.2-RC4-linux-i386-glibc-2.1.2.sh</userinput>
</screen>

 <para>
  Hermed er udviklings- og k칮rselsmilj칮et til Java installeret! Du skal dog
  gennem et par ekstra skridt for at det virker tilfredsstillende.
 </para>

<para>
Man mangler Zapf Dingbats-skriftsnit i installationen. Disse hentes p친
<ulink url="http://www.gimp.org/fonts.html">http://www.gimp.org/fonts.html</ulink>. Installation
af disse er beskrevet p친 webstedet. Man skal i korthed hente URW-skriftsnittene
<filename>urw-fonts.tar.gz</filename>. Disse skal <command>gunzip</command>'pes og af-<command>tar</command>'es i X Window
systemets skriftsnitskatalog:
</para>

<screen>
<prompt>[root@beta /root]# </prompt><userinput>cd /usr/X11R6/lib/X11/fonts</userinput>
<prompt>[root@beta /usr/X11R6/lib/X11/fonts]# </prompt><userinput>tar xzvf /mnt/cdrom/Java/java3d/linux/urw-fonts.tar.gz</userinput>
<prompt>[root@beta /usr/X11R6/lib/X11/fonts]# </prompt><userinput>chown -R root.root</userinput>
</screen>

<para>
 Dern칝st skal man 칝ndre sin X Window ops칝tningsfil. Hvis ens distribution
 k칮rer med X Window-skriftsnitstjener s친 hedder filen
 <filename>/etc/X11/fs/config</filename> (Red Hat) ellers skal man rette i
 <filename>/etc/X11/XF86Config</filename> (Red Hat) som beskrevet nedenfor
 (Red Hat 6.x bruger skriftsnitstjener):
</para>

<programlisting>
        /usr/X11R6/lib/X11/fonts/misc:unscaled,
	/usr/X11R6/lib/X11/fonts/75dpi:unscaled,
	/usr/X11R6/lib/X11/fonts/100dpi:unscaled,
        /usr/X11R6/lib/X11/fonts/URW,
	/usr/X11R6/lib/X11/fonts/misc,
	/usr/X11R6/lib/X11/fonts/Type1,
	/usr/X11R6/lib/X11/fonts/Speedo,
	/usr/share/fonts/default/Type1
</programlisting>

<para>
 칁ndringer til X Window Server XF86Config filen er beskrevet p친 <ulink
 url="http://www.gimp.org/fonts">http://www.gimp.org/fonts</ulink>, og for
 skriftsnitstjener filen skal fjerde linie med URW-skriftsnittene f칮jes til
 filen <filename>/etc/X11/fs/config</filename>. For at genstarte
 skriftsnitstjeneren k칮res programmet <command>xfs</command> med parametren
 <command>restart</command> i <filename>/etc/rc.d/init.d</filename> (som
 brugeren "root"). N칝ste gang din
 Linux-maskine starter startes X-skriftsnitstjeneren automatisk med de nye
 typer.
</para>

<para>
 Nu mangler vi bare at s칮rge for at dine systemvariable er sat korrekt. Det er
 specielt stien der skal v칝re sat s친 den kan inkluderer dine k칮rbare
 Java-programmer. Normalt beh칮ver man ikke s칝tte andre systemvariable hvis man
 har installeret i <filename>/usr/local/jdk1.2.2</filename>. Kataloget der skal
 f칮jes til stien (systemvariablen <literal>PATH</literal> eller <literal>path</literal>)
 <filename>/usr/local/jdk1.2.2/bin</filename>.  Det er dog en god id칠 ogs친 at
 s칝tte <literal>JAVA_HOME</literal> til <filename>/usr/local/jdk1.2.2</filename>.
</para>

<para>
 De to vigtigste k칮rbare filer er <command>javac</command> (overs칝tteren) og
 <command>java</command> (som er Javas virtuelle maskine, JVM).
</para>
<!--

</sect2>

<sect2 id="hello-java">
<TITLE>Hello, world!</TITLE>
<INDEXTERM><PRIMARY>Hello, world!</PRIMARY><SECONDARY>Java</SECONDARY></INDEXTERM>

<para>
Et meget lille Java-program kunne f.eks. se s친dan ud:
</para> 

<programlisting>
class HelloWorldApp {
   public static void main(String[] args) {
      System.out.println("Hello, world!");
   }
}
</programlisting>

<para>
Hvis du gemmer denne i en fil kaldet
<filename>hello.java</filename>, s친 kan du overs칝tte den med kommandoen:
</para>

<screen>
<prompt>[linus@daisy ~]$ </prompt> <userinput>javac hello.java</userinput>
</screen>

<para>
Java-overs칝tteren laver en fil kaldet
<filename>HelloWorldApp.class</filename>. Denne fil indeholder
"bytecodes" som kan k칮res p친 Javas virtuelle maskine (JVM):
</para>

<screen>
<prompt>[linus@daisy ~]$ </prompt> <userinput>java HelloWorldApp</userinput>
</screen>

<para>
Det kan bem칝rkes, at JVM ved, at det er filen med endelsen .class der
skal k칮res, s친 dette udelades.
Programmet svarer med output : "Hello, world!" 
</para>
</sect2>
-->

<sect2 id="java3d-installation">
<title>Installation af Java3D</title>
<para>
Der findes masser af andre pakker der er interessant til udvikling af
Java-programmer.  Det er et sp칮rgsm친l om hvad man har brug for og
s친 ellers komme i gang med den. Et interessant valg er Java3D. Det er
et meget elegant design af et visualiserings API, s친 derfor vil jeg
kort beskrive hvordan man installerer det og hvad det kan.
</para>

<para>
For det f칮rste h칮rer Java3D til media pakkerne, som indeholder alt til
udvikling af multimedie og Virtual Reality, spil osv.  Java3D er en
pakke der stiller klasser til r친dighed til udvikling af 3D
visualiseringssystemer.  Java3D er et elegant v칝rkt칮j der skulle
stille de fleste 3D visualiseringssystem udviklere tilfreds. Det
baserer sig p친 scenegraf princippet. Dvs. alle visuelle objekter i en
virtuel verden er h칝ngt op i en scenegraf. Der er knuder, der kan
gruppere dele af det virtuelle univers, knuder der kan lave
transformationer p친 underliggende knuder, knuder der repr칝senterer
egentlige virtuelle objekter, lys og kameraet (칮jenpunktet) osv.
</para>

 <para>
  <indexterm>
   <primary>3D-grafik i Java</primary>
   <secondary>OpenGL</secondary>
  </indexterm>

  <indexterm>
   <primary>Java3D</primary>
   <secondary>3D-grafik</secondary>
  </indexterm>

  <indexterm>
   <primary>OpenGL</primary>
   <secondary>Java3D</secondary>
  </indexterm>

  Der skal en hel del til for at installere Java3D p친 din Linux-maskine. F칮rst
  og fremmest bygger Java3D p친 OpenGL. P친 Linux er den frie udgave af OpenGL
  et bibliotek kaldet Mesa (<ulink
  url="http://www.mesa3d.org/">http://www.mesa3d.org/</ulink>). Mesa kan ogs친
  findes som RPM- og deb-pakke og Java3D har brug for version 3.1-3 (eller
  senere). Hvis du k칮rer Red Hat 6.1 er du ude efter filen
  <filename>Mesa-3.1-3rh61.i386.rpm</filename>. Du <emphasis>kan</emphasis>
  v칝lge ogs친 at l칝gge glut (et bibliotek til at lave menuer og deslige) og
  Mesas eksempelsamling ind (<filename>Mesa-glut-3.1-3rh61.i386.rpm</filename>
  og <filename>Mesa-demos-3.1-3rh61.i386.rpm</filename> p친 et Red Hat
  6.1-system).
 </para>


<para>
Desv칝rre er det s친dan at Mesa l칝gger OpenGL lib filerne som
<filename>libGL.so.xxx</filename>, mens Java3d forventer at de hedder
<filename>libMesaGL.so.xxx</filename>. Derfor skal du i /usr/lib lave
et ekstra link:
</para>

<screen>
<prompt>[root@daisy /root]# </prompt> <userinput>cd /usr/lib</userinput>
<prompt>[root@daisy /usr/lib]# </prompt> <userinput>ln -s libGL.so.1.2.0 libMesaGL.so.3</userinput>
</screen>

<para>
 Nu er det s친 tid til at installere Java3D. Det er ikke s친 sv칝rt. Det
 vigtigste er at hvis man l칝gger Java3D samme sted som Java 2 SDK er
 det problemfrit, ellers skal man s칮rge for at s칝tte systemvariablen
 <literal>CLASSPATH</literal> til at inkludere stien til Java3D-filerne.
</para>

<para>
Filen du skal hente fra 
<ulink url="http://java.sun.com">http://java.sun.com</ulink> er <filename>java3d1.1.1pre-v1-linux-sdk.tar.bz2</filename>. 
Du kan kun bruge java3D sammen med Java 2 (den der er beskrevet i det foreg친ende). 
</para>

<!--
<para>
Filen skal <command>unzip</command>'es ved: 
</para>

<screen>
<prompt>[root@daisy /root]# </prompt> <userinput>bunzip2 java3d1.1.1pre-v1-linux-sdk.tar.bz2</userinput>
</screen>
-->

<para>
 Dern칝st skal du installere den ved hj鷺p af <command>tar</command>. Inden du
 g칮r det skal du gennem et par skridt for ikke at l칮be ind i alt for mange
 problemer sidenhen. Du vil gerne have Java3D til at ligge sammen med din
 jdk1.2.2-installation. Problemet er at Java3D-installationen er pakket
 i et katalog der hedder jdk1.2, derfor skal du sikre dig at
 <filename>/usr/local/jdk1.2/</filename> peger p친
 <filename>/usr/local/jdk1.2.2/</filename> f칮r du udpakker Java3D-filen:
<screen>
<prompt>[root@daisy /root]# </prompt><userinput>cd /usr/local/</userinput>
<prompt>[root@daisy /usr/local]# </prompt><userinput>ln -s jdk1.2.2 jdk1.2</userinput>
<prompt>[root@daisy /usr/local]# </prompt><userinput>tar xjvf java3d1.1.1pre-v1-linux-sdk.tar.bz2</userinput>
...
</screen>
 (vi er her g桐t ud fra at du lagde Java3D i kataloget
 <filename>/usr/local/</filename>).  Nu er du k칮rende med Java3d.
</para>

<para>
Det er specielt to ting der er lagt ned i din Java-installation. Det
er delvist Java-biblioteker i
<filename>/usr/local/jdk1.2.2/jre/lib/ext</filename> og Java3D demo
filer.
</para>

<para>
 Inden vi beskriver et lille programeksempel vil jeg omtale
 indl칝sningsroutiner til java3d.  Det er s친dan at det kan v칝re et
 meget omfattende arbejde og er egentlig imod 3D
 visualiseringsparadigmet, at programmere sig til den visuelle
 verden. Det man b칮r g칮re er, at definere den virtuelle verden i en
 separat fil i et eller andet format. Der findes til Java3D en lang
 r칝kke indl칝sningsroutiner til at l칝se s친danne filer. Et meget kendt
 format er VRML, som p친 en m친de er internettets foretrukne 3D
 virtuelle model format. Java kommer ikke med en indl칝sningsroutine
 til VRML, men heldigvis findes den gratis p친 <ulink
 url="http://www.vrml.org/">http://www.vrml.org/</ulink>. Du kan ogs친
 hente java3d vrml indl칝sningseksempeler i kildetekst. Den Java jar
 (Java biblioteksfil), som hedder <filename>vrml97.jar</filename> skal
 l칝gges ned i <filename>/usr/local/jdk1.2.2/jre/lib/ext</filename>, s친
 kan man bruge den i forbindelse med udvikling af Java3d-programmer
 der benytter indl칝sning af VRML filer.
</para>

<para>
For eksempler p친 Java3D-programmer henvises der til installationen af
Java3d, hvor der er inkluderet 37 programeksempler inkluderende vrml
eksempelprogrammer.
</para>

<para>
P친 internettet kan der desuden findes et utal af modeller af visuelle
objekter, i alle mulige typer af formatter, herunder VRML.
</para>
</sect2><!-- java3d-installation -->

<!--
<sect2 id="java-dok">
<title>Dokumentation og specifikation</title>
<para>
Der er en meget god dokumentation af sproget og alle de pakker man f친r
med i sproget Java. Dokumentationen kan enten, hvis man har tilgang
til internettet mens man programmerer, findes p친 
<ulink url="http://java.sun.com">http://java.sun.com</ulink> 
eller kan hentes og installeres. Dokumentationen til de basale
Java-pakker er skrevet i HTML og fylder godt 100 Mb installeret.
For at 칮ge overskueligheden er her et direkte link til Suns Java API
Specifikation <ulink url="http://java.sun.com/docs/index.html">
http://java.sun.com/docs/index.html</ulink>. Sun har ogs친 lavet en 
tutorial, som kan findes p친 
<ulink url="http://java.sun.com/docs/books/tutorial/">http://java.sun.com/docs/books/tutorial/</ulink>. Et andet godt sted
at finde dokumentation omkring Java er p친 <ulink 
url="http://www.blackdown.org/java-linux/docs.html">http://www.blackdown.org/java-linux/docs.html</ulink>.

</para>

<para>
Der er skrevet ufatteligt meget om programmeringssproget Java. De
officielle Java-b칮ger fra Sun <ulink
url="http://java.sun.com">http://java.sun.com</ulink> er gode n친r man
kender en del til Java i forvejen.
</para>

<para>
For Linux-brugere er der for nyligt udkommet en udm칝rket bog som giver
et godt overblik: "Java Programming on Linux" af Nathan Meyers udgivet
af Waite Group Press i 친r 2000 se 
<ulink url="http://www.javalinux.net">http://www.javalinux.net</ulink>.
</para>

<para>
Du kan nok ogs친 v칝re interesseret i <ulink
url="http://delfi.lyngbyes.dk/~nbn/jdk/files/think.pdf">http://delfi.lyngbyes.dk/~nbn/jdk/files/think.pdf</ulink>,
som er en introduktion til Java og objektorienteret programmering.
</para>

</sect2>

<sect2 id="java-vaerktoejer">
<title>V칝rkt칮jer</title>
<para>
Der findes en masse v칝rkt칮jer som kan hj칝lpe dig i udviklingen af Java-programmer. Et godt sted at lede Java-programmer er p친 BlackDown 
<ulink url="http://www.blackdown.org/java-linux/productlist.html">http://www.blackdown.org/java-linux/productlist.html</ulink>.
For det f칮rste er der underst칮ttelse for Java i emacs og ddd. Der er et
Java-udviklingsmilj칮 til emacs (JDE), som kan findes p친 
<ulink url="http://sunsite.dk/jde/">http://sunsite.dk/jde/</ulink>. Med
JDE er det muligt at f친 syntaksfremh칝vning og menuer til at overs칝tte, k칮re, m.m. Java-programmer.
Derudover er der masser af s친kaldte IDE'er. Det er grafiske
v칝rkt칮jer som benyttes til at skrive programmer med, debugge osv. Det
er virkeligt en smagssag om man kan lide at bruge et integreret udviklingsmilj칮 eller om man
vil h친ndkode v.h.a. f.eks. emacs. Derudover er IDE'erne meget
forskellige og det er smag og behag hvilken der bekommer den enkelte.
To virkelig gode gratis IDE'er er: Inprise JBuilder 
<ulink url="http://www.borland.com/jbuilder/foundation/">http://www.borland.com/jbuilder/foundation/</ulink> (en
efterf칮lger af Borlands C++ linie) og FORTE som er k칮bt af SUN
<ulink url="http://www.sun.com/forte/ffj/">http://www.sun.com/forte/ffj/</ulink>.
</para>
</sect2>
-->
</sect1>
